%%
%% This is file `nodetree-embed.sty',
%% generated with the docstrip utility.
%%
%% The original source files were:
%%
%% nodetree.dtx  (with options: `packageembed')
%% 
%% This is a generated file.
%% 
%% Copyright (C) 2016-2020 by Josef Friedrich <josef@friedrich.rocks>
%% ----------------------------------------------------------------------
%% This work may be distributed and/or modified under the conditions of
%% the LaTeX Project Public License, either version 1.3c of this license
%% or (at your option) any later version. The latest version of this
%% license is in:
%% 
%%   http://www.latex-project.org/lppl.txt
%% 
%% and version 1.3c or later is part of all distributions of LaTeX
%% version 2008/05/05 or later.
%% 
\NeedsTeXFormat{LaTeX2e}[1994/06/01]
\ProvidesPackage{nodetree-embed}
  [2020/05/24 v1.2 Embed node trees into a LaTeX document]
\RequirePackage{xcolor,mdframed,expl3,xparse,fontspec}
\input{nodetree}
\RequirePackage{kvoptions}
\SetupKeyvalOptions{
  family=NTE,
  prefix=NTEK@
}
\directlua{
  nodetree = require('nodetree')
  nodetree.check_shell_escape()
}
\define@key{NTE}{callback}[]{\NodetreeSetOption[callback]{#1}}
\DeclareStringOption[1]{verbosity}
\define@key{NTE}{verbosity}[]{\NodetreeSetOption[verbosity]{#1}}
\DeclareStringOption[colored]{color}
\define@key{NTE}{color}[]{\NodetreeSetOption[color]{#1}}
\DeclareStringOption[1]{unit}
\define@key{NTE}{unit}[]{\NodetreeSetOption[unit]{#1}}
\DeclareStringOption[1]{decimalplaces}
\define@key{NTE}{decimalplaces}[]{\NodetreeSetOption[decimalplaces]{#1}}
\DeclareStringOption[smyck]{theme}
\DeclareStringOption[dark]{thememode}
\DeclareStringOption[Ubuntu Mono]{font}
\DeclareStringOption[\footnotesize]{fontsize}
\ProcessKeyvalOptions{NTE}
\ExplSyntaxOn
\def\NTE@colors{
  \str_case_e:nn{\NTEK@theme}{
    {bwdark}{
      \definecolor{NTEblack}{gray}{0}
      \definecolor{NTEred}{gray}{1}
      \definecolor{NTEgreen}{gray}{1}
      \definecolor{NTEyellow}{gray}{1}
      \definecolor{NTEblue}{gray}{1}
      \definecolor{NTEmagenta}{gray}{1}
      \definecolor{NTEcyan}{gray}{1}
      \definecolor{NTEwhite}{gray}{1}
      \definecolor{NTEblackbright}{gray}{0}
      \definecolor{NTEredbright}{gray}{1}
      \definecolor{NTEgreenbright}{gray}{1}
      \definecolor{NTEyellowbright}{gray}{1}
      \definecolor{NTEbluebright}{gray}{1}
      \definecolor{NTEmagentabright}{gray}{1}
      \definecolor{NTEcyanbright}{gray}{1}
      \definecolor{NTEwhitebright}{gray}{1}
    }
    {bwlight}{
      \definecolor{NTEblack}{gray}{0}
      \definecolor{NTEred}{gray}{0}
      \definecolor{NTEgreen}{gray}{0}
      \definecolor{NTEyellow}{gray}{0}
      \definecolor{NTEblue}{gray}{0}
      \definecolor{NTEmagenta}{gray}{0}
      \definecolor{NTEcyan}{gray}{0}
      \definecolor{NTEwhite}{gray}{1}
      \definecolor{NTEblackbright}{gray}{0}
      \definecolor{NTEredbright}{gray}{0}
      \definecolor{NTEgreenbright}{gray}{0}
      \definecolor{NTEyellowbright}{gray}{0}
      \definecolor{NTEbluebright}{gray}{0}
      \definecolor{NTEmagentabright}{gray}{0}
      \definecolor{NTEcyanbright}{gray}{0}
      \definecolor{NTEwhitebright}{gray}{1}
    }
    {terminalapp}{
      \definecolor{NTEblack}{RGB}{0,0,0}
      \definecolor{NTEred}{RGB}{194,54,33}
      \definecolor{NTEgreen}{RGB}{37,188,36}
      \definecolor{NTEyellow}{RGB}{173,173,39}
      \definecolor{NTEblue}{RGB}{73,46,225}
      \definecolor{NTEmagenta}{RGB}{211,56,211}
      \definecolor{NTEcyan}{RGB}{51,187,200}
      \definecolor{NTEwhite}{RGB}{203,204,205}
      \definecolor{NTEblackbright}{RGB}{129,131,131}
      \definecolor{NTEredbright}{RGB}{252,57,31}
      \definecolor{NTEgreenbright}{RGB}{49,231,34}
      \definecolor{NTEyellowbright}{RGB}{234,236,35}
      \definecolor{NTEbluebright}{RGB}{88,51,255}
      \definecolor{NTEmagentabright}{RGB}{249,53,248}
      \definecolor{NTEcyanbright}{RGB}{20,240,240}
      \definecolor{NTEwhitebright}{RGB}{233,235,235}
    }
    {xterm}{
      \definecolor{NTEblack}{RGB}{0,0,0}
      \definecolor{NTEred}{RGB}{205,0,0}
      \definecolor{NTEgreen}{RGB}{0,205,0}
      \definecolor{NTEyellow}{RGB}{205,205,0}
      \definecolor{NTEblue}{RGB}{0,0,238}
      \definecolor{NTEmagenta}{RGB}{205,0,205}
      \definecolor{NTEcyan}{RGB}{0,205,205}
      \definecolor{NTEwhite}{RGB}{229,229,229}
      \definecolor{NTEblackbright}{RGB}{127,127,127}
      \definecolor{NTEredbright}{RGB}{255,0,0}
      \definecolor{NTEgreenbright}{RGB}{0,255,0}
      \definecolor{NTEyellowbright}{RGB}{255,255,0}
      \definecolor{NTEbluebright}{RGB}{92,92,255}
      \definecolor{NTEmagentabright}{RGB}{255,0,255}
      \definecolor{NTEcyanbright}{RGB}{0,255,255}
      \definecolor{NTEwhitebright}{RGB}{255,255,255}
    }
    {smyck}{
      \definecolor{NTEblack}{HTML}{212121}
      \definecolor{NTEred}{HTML}{C75646}
      \definecolor{NTEgreen}{HTML}{8EB33B}
      \definecolor{NTEyellow}{HTML}{D0B03C}
      \definecolor{NTEblue}{HTML}{72B3CC}
      \definecolor{NTEmagenta}{HTML}{C8A0D1}
      \definecolor{NTEcyan}{HTML}{218693}
      \definecolor{NTEwhite}{HTML}{B0B0B0}
      \definecolor{NTEblackbright}{HTML}{5D5D5D}
      \definecolor{NTEredbright}{HTML}{E09690}
      \definecolor{NTEgreenbright}{HTML}{CDEE69}
      \definecolor{NTEyellowbright}{HTML}{FFE377}
      \definecolor{NTEbluebright}{HTML}{9CD9F0}
      \definecolor{NTEmagentabright}{HTML}{FBB1F9}
      \definecolor{NTEcyanbright}{HTML}{77DFD8}
      \definecolor{NTEwhitebright}{HTML}{F7F7F7}
    }
    {molokai}{
      \definecolor{NTEblack}{HTML}{212121}
      \definecolor{NTEred}{HTML}{fa2573}
      \definecolor{NTEgreen}{HTML}{98e123}
      \definecolor{NTEyellow}{HTML}{dfd460}
      \definecolor{NTEblue}{HTML}{1080d0}
      \definecolor{NTEmagenta}{HTML}{8700ff}
      \definecolor{NTEcyan}{HTML}{43a8d0}
      \definecolor{NTEwhite}{HTML}{bbbbbb}
      \definecolor{NTEblackbright}{HTML}{555555}
      \definecolor{NTEredbright}{HTML}{f6669d}
      \definecolor{NTEgreenbright}{HTML}{b1e05f}
      \definecolor{NTEyellowbright}{HTML}{fff26d}
      \definecolor{NTEbluebright}{HTML}{00afff}
      \definecolor{NTEmagentabright}{HTML}{af87ff}
      \definecolor{NTEcyanbright}{HTML}{51ceff}
      \definecolor{NTEwhitebright}{HTML}{ffffff}
    }
    {monokaisoda}{
      \definecolor{NTEblack}{HTML}{1a1a1a}
      \definecolor{NTEred}{HTML}{f4005f}
      \definecolor{NTEgreen}{HTML}{98e024}
      \definecolor{NTEyellow}{HTML}{fa8419}
      \definecolor{NTEblue}{HTML}{9d65ff}
      \definecolor{NTEmagenta}{HTML}{f4005f}
      \definecolor{NTEcyan}{HTML}{58d1eb}
      \definecolor{NTEwhite}{HTML}{c4c5b5}
      \definecolor{NTEblackbright}{HTML}{625e4c}
      \definecolor{NTEredbright}{HTML}{f4005f}
      \definecolor{NTEgreenbright}{HTML}{98e024}
      \definecolor{NTEyellowbright}{HTML}{e0d561}
      \definecolor{NTEbluebright}{HTML}{9d65ff}
      \definecolor{NTEmagentabright}{HTML}{f4005f}
      \definecolor{NTEcyanbright}{HTML}{58d1eb}
      \definecolor{NTEwhitebright}{HTML}{f6f6ef}
    }
  }
  \str_case_e:nn{\NTEK@thememode}{
    {dark}{
      \definecolor{NTEbackground}{named}{NTEblack}
      \definecolor{NTEfont}{named}{NTEwhitebright}
    }
    {light}{
      \definecolor{NTEbackground}{named}{NTEwhitebright}
      \definecolor{NTEfont}{named}{NTEblack}
    }
  }
}
\ExplSyntaxOff
\def\NTE@fonts{
  \bfseries%
  \NTEK@fontsize%
  \setmonofont{\NTEK@font}%
  \ttfamily%
  \setlength{\parindent}{0pt}%
  \setlength{\parskip}{-0.9pt}%
}
\newcommand{\NodetreeSet}[1]{%
  \setkeys{NTE}{#1}%
}
\let\nodetreeset\NodetreeSet
\def\NodetreeReset{
  \NodetreeSet{theme=monokaisoda,thememode=dark,font={Ubuntu Mono},fontsize=\tiny}
}
\let\nodetreereset\NodetreeReset
\newenvironment{NodetreeExample}[1][]{
  \setkeys{NTE}{#1}
  \NTE@colors
  \begin{mdframed}[
    linecolor=black,
    backgroundcolor=NTEbackground,
    fontcolor=NTEfont,
  ]%
  \NTE@fonts
}{
  \end{mdframed}%
}
\newcommand{\NodetreeTerminalEmulator}[2][]{
  \setkeys{NTE}{#1}
  \begin{NodetreeExample}
  \input{#2.nttex}
  \end{NodetreeExample}
}
\let\nodetreeterminalemulator\NodetreeTerminalEmulator
\NewDocumentEnvironment { NodetreeEmbed } { O{} +b } {
  \setkeys{NTE}{#1}
  \begin{NodetreeExample}
    \directlua{
      nodetree.compile_include('\luaescapestring{\unexpanded{#2}}')
    }
  \end{NodetreeExample}
}{}
\endinput
%%
%% End of file `nodetree-embed.sty'.
